<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="css/apple2.css" />
    <title>Apple IIjs</title>
  </head>
  <body class="apple2e">
    <div style="margin: auto; width: 592px">
      <img id="badge" src="img/badge.png" />
      <h1 id="subtitle">An Apple ][ Emulator in JavaScript</h1>
      <div class="overscan">
        <canvas width="560" height="384" id="screen" />
      </div>
      <div class="inset">
        <div style="float: left; width: 50%">
          <div class="disk" id="disk1">&nbsp;</div>
          <span id="disklabel1" class="disklabel">Disk 1</span>
        </div>
        <div style="float: left; width: 50%">
          <div class="disk" id="disk2">&nbsp;</div>
          <span id="disklabel2" class="disklabel">Disk 2</span>
        </div>
        <div style="clear: both"></div>
      </div>
      <div class="inset" style="position: relative">
        <button onclick="main.reset()" id="reset">
          RESET
        </button>
        <div style="clear: both"></div>
      </div>
      <div id="keyboard">
      </div>
    </div>
    <script type="text/javascript" src="dist/module.js"></script>
    <script type="text/javascript">
    var main = require('./js/main.js');
    var disk2 = main.getDiskII();

    disk2.addDriveLightListener(function(drive, on) {
        var disk = document.getElementById('disk' + drive);
        disk.style.backgroundImage = on ?
            'url(css/red-on-16.png)' : 'url(css/red-off-16.png)';
    });

    var loadDrive = 1;
    
    function loadJSON(data) {
        var label = document.getElementById('disklabel' + loadDrive);
        disk2.setDisk(loadDrive, data);
        label.innerText = data.name;
    }
    </script>
    <script type="text/javascript" src="json/disks/dos33master.json">
    </script>
  </body>
</html>
